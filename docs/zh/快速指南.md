# å¿«é€Ÿä¿®å¤æŒ‡å— - 5 åˆ†é’Ÿè§£å†³ Agent æ”¶ä¸åˆ°æ¶ˆæ¯é—®é¢˜

## ğŸ¯ é—®é¢˜

Agent Group Chat é¡¹ç›®è¿è¡Œåæ”¶ä¸åˆ°ä»»ä½•æ¶ˆæ¯å›å¤ã€‚

## âš¡ å¿«é€Ÿè§£å†³æ–¹æ¡ˆ

### æ­¥éª¤ 1: æ£€æŸ¥é…ç½® (30 ç§’)

ç¡®ä¿ `appsettings.Development.json` åŒ…å«æ­£ç¡®çš„ Azure OpenAI é…ç½®ï¼š

```json
{
	"AzureOpenAI": {
		"Endpoint": "https://your-resource.openai.azure.com/",
		"DeploymentName": "gpt-4o-mini",
		"ApiKey": "your-api-key-here"
	}
}
```

### æ­¥éª¤ 2: å·²åº”ç”¨çš„ä¿®å¤ (å·²å®Œæˆ âœ…)

ä»¥ä¸‹ä¿®æ”¹å·²åº”ç”¨åˆ°ä½ çš„ä»£ç ä¸­ï¼š

#### ä¿®å¤ 1: å¼ºåˆ¶ Triage Agent åˆ‡æ¢ (AgentChatService.cs ç¬¬ 100-107 è¡Œ)

```csharp
var triageAgent = new ChatClientAgent(_chatClient,
		"ALWAYS handoff to another agent. Do NOT respond yourself - only route to the appropriate agent.",
		"triage",
		"Routes messages to the appropriate agent");
```

#### ä¿®å¤ 2: æ”¹è¿›æ–‡æœ¬æå– (AgentChatService.cs ç¬¬ 177-190 è¡Œ)

```csharp
// å…ˆå°è¯• .Textï¼Œå¦‚æœä¸ºç©ºåˆ™ä» .Contents æå–
var updateText = updateEvent.Update.Text;
if (!string.IsNullOrEmpty(updateText))
{
		responseText.Append(updateText);
}
else if (updateEvent.Update.Contents != null)
{
		foreach (var content in updateEvent.Update.Contents)
		{
				if (content is Microsoft.Extensions.AI.TextContent textContent)
				{
						responseText.Append(textContent.Text);
				}
		}
}
```

#### ä¿®å¤ 3: æ·»åŠ è°ƒè¯•æ—¥å¿— (AgentChatService.cs ç¬¬ 150, 154 è¡Œ)

```csharp
Console.WriteLine($"[DEBUG] Event type: {evt.GetType().Name}");
Console.WriteLine($"[DEBUG] AgentRunUpdateEvent - ExecutorId: {updateEvent.ExecutorId}");
```

### æ­¥éª¤ 3: æµ‹è¯• (2 åˆ†é’Ÿ)

```powershell
# 1. æ„å»º
cd c:\github\agent-framework-tutorial-code\src\AgentGroupChat
dotnet build

# 2. è¿è¡Œ
dotnet run

# 3. åœ¨æµè§ˆå™¨æ‰“å¼€åº”ç”¨å¹¶å‘é€æ¶ˆæ¯
# ä¾‹å¦‚: "Hello @Sunny"
```

### æ­¥éª¤ 4: éªŒè¯æˆåŠŸ (1 åˆ†é’Ÿ)

âœ… **æˆåŠŸæ ‡å¿—**:
- æ§åˆ¶å°æ˜¾ç¤º `[DEBUG] Event type: AgentRunUpdateEvent`
- æ§åˆ¶å°æ˜¾ç¤º `[DEBUG] AgentRunUpdateEvent - ExecutorId: sunny`
- æµè§ˆå™¨æ˜¾ç¤º Agent çš„å›å¤æ¶ˆæ¯

âŒ **å¦‚æœè¿˜æœ‰é—®é¢˜**:
- æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
- éªŒè¯ Azure OpenAI é…ç½®æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹ [è¯¦ç»†æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ§åˆ¶å°æ²¡æœ‰ä»»ä½• DEBUG è¾“å‡º

**åŸå› **: Azure OpenAI é…ç½®é”™è¯¯æˆ–ç½‘ç»œé—®é¢˜

**è§£å†³**:
```powershell
# æµ‹è¯• Azure OpenAI è¿æ¥
```
